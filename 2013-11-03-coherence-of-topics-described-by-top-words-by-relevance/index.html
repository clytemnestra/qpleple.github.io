<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>2013 11 03 Coherence Of Topics Described By Top Words By Relevance</title>
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/style.css">

    
        
    
        
            <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
              tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], processEscapes:true}
            });
            </script>
            <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
            </script>
        
    

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18013119-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</head>
<body>
 
<div class="container">
  <div id="page" style="position: relative">
    
    
    <h1>2013 11 03 Coherence Of Topics Described By Top Words By Relevance</h1>
    
    <div id="post-content">
        <h3>Coherence of topics described by top words by relevance</h3>

<p><strong>We have seen in the previous section</strong> a couple of examples where indeed showing words scoring higher on relevance are better candidates to describe topics than top words by frequency. Now, there are some automated measures of topic coherence, and <strong>we have presented the state-of-the-art in Chapter 2</strong>; it consists of the intrinsic measure UMass based on the conditional probability of one word given another, and the extrinsic measure UCI based on the the Pointwise Mutual Information (PMI) of words, computed from an external corpus such as Wikipedia. <strong>In this section</strong>, we compare the change in topic coherence according to these two metrics when changing the topic representation from top words by frequency to top words by relevance.</p>

<h4>Wikipedia as the external corpus</h4>

<p>To compute the UCI measure topic coherence score, we chose Wikipedia as external corpus as it is large enough so that every pairs of common enough words will appear in at least one document. Wikipedia was also the external corpus showing best correlation between UCI coherence score and human judgment [<a href="/bib#Newman10a">Newman10a</a>]. To compute the document counts $D_{\text{Wikipedia}} (w_i, w_j)$ and $D_{\text{Wikipedia}} (w_i)$ needed for the topic coherence, we indexed the entire Wikipedia database into an instance of Apache Solr, an open-source search engine. Then querying words or pairs of words and reading the number of documents matching the query allowed us to get in constant-time\footnote{The time Solr takes to return the count may depend on the size of the index, and therefore the number of documents. For us, it was 3ms per request, small enough to consider it as constant-time.} the few statistics needed to compute the topics coherence.</p>

<h4>UCI topic coherence measure</h4>

<p>For each of the four corpora [ap], [20news], [nips], and [nsf] we ran LDA with 30 topics. For each topic $k$, we isolated two sets of words: top ten words $S_k^{\text{(freq)}}$ in frequency $p(w|k)$, and top ten $S_k^{\text{(rel)}}$ words in relevance $p(w|k)e^{-H_w}$. We then compute improvement factor
    $$
    \rho_k =
    \frac{
        \text{Coherence}_{\text{UCI}} \left( S_k^{\text{(rel)}} \right)
    }{
        \text{Coherence}_{\text{UCI}} \left( S_k^{\text{(freq)}} \right)
    }
    $$
in topic coherence from top words in frequency to top words in relevance. A factor $\rho_k$ greater than one means that the top words in relevance are more coherent than the top words in frequency, according to the UCI metric. Histograms in Figure~\ref{fig:factor-uci-30} shows the distribution of $\rho_k$ for the four datasets. We can see that choosing top words based on relevance over top words based on frequency almost always increase the topic coherence.</p>

<h4>UMass topic coherence measure</h4>

<p>However, conducting the same experiment with the UMass measure does not give similar results. Changes in topic coherence becomes less predictable. Histograms in Figure~\ref{fig:factor-umass-30} shows the distribution of the improvement factor according to this measure for the four datasets. </p>

<p>\begin{figure}[H] \centering
    \hist{ap}    {1/0/red, 2/11/red, 3/12/green, 4/2/green, 5/5/green}{4}{6}
    \hist{20news}{1/0/red, 2/20/red, 3/7/green, 4/2/green, 5/1/green}{4}{6}
    \hist{nips}  {1/11/red, 2/14/red, 3/4/green, 4/1/green, 5/0/green}{4}{6}
    \hist{nsf}   {1/14/red, 2/17/red, 3/9/green, 4/0/green, 5/0/green}{4}{6}
    \caption{Distribution over 30 topics of the improvement factor $\rho_k$ of topic UMass coherence from top words by frequency to top words by relevance for four datasets. Green bars are for $\rho_k &gt; 1$.}
    \label{fig:factor-umass-30}
\end{figure}</p>

<h4>Varying the number of topics</h4>

<p>Let&#39;s now try  to understand what is the cause of improvement in UCI measure. As sometimes, good results are due to the small number of topics used, we reconducted the same experiment with 100 topics instead of 30. Figure~\ref{fig:factor-uci-100} presents results almost as good as for the first case.</p>

<p>\begin{figure}[H] \centering
    \hist{ap}    {1/0/red, 2/4/red, 3/31/green, 4/39/green, 5/26/green}{4}{18}
    \hist{20news}{1/3/red, 2/5/red, 3/30/green, 4/30/green, 5/32/green}{4}{18}
    \hist{nips}  {1/1/red, 2/18/red, 3/45/green, 4/24/green, 5/12/green}{4}{18}
    \hist{nsf}   {1/0/red, 2/5/red, 3/64/green, 4/22/green, 5/9/green}{4}{18}
    \caption{Distribution over 100 topics of the improvement factor $\rho_k$ of topic UCI coherence from top words by frequency to top words by relevance for four datasets. Green bars are for $\rho_k &gt; 1$.}
    \label{fig:factor-uci-100}
\end{figure}</p>

<h4>Intrinsic PMI</h4>

<p>For our last experiment, we consider an intrinsic version of the UCI measure. Instead of using Wikipedia as an external dataset, we used the same corpus on which LDA has been run to generate the word co-occurrence statistics. Figure~\ref{fig:factor-uci-intrinsic-30} presents the results; computing the coherence score with this new intrinsic PMI-based measure, we a systematic improvement in topic coherence by choosing top words by relevance.</p>

<p>\begin{figure}[H] \centering
    \hist{ap}    {1/0/red, 2/0/red, 3/17/green, 4/11/green, 5/2/green}{3.5}{10}
    \hist{20news}{1/0/red, 2/0/red, 3/26/green, 4/4/green, 5/0/green}{3.5}{10}
    \hist{nips}  {1/0/red, 2/0/red, 3/28/green, 4/2/green, 5/0/green}{3.5}{10}
    \hist{nsf}   {1/0/red, 2/0/red, 3/30/green, 4/0/green, 5/0/green}{3.5}{10}
    \caption{Distribution over 100 topics of the improvement factor $\rho_k$ of topic coherence according to the intrinsic PMI-based coherence measure. Green bars are for $\rho_k &gt; 1$.}
    \label{fig:factor-uci-intrinsic-30}
\end{figure}</p>

<p>The conclusion we can draw from these experiments is that we can almost systematically increase the average (intrinsic or extrinsic) PMI score
    $$
    \sum_{i \lt j} \text{PMI}(w_i, w_j)
    \qquad \text{with} \quad
    \text{PMI}(w_i, w_j) = \log \frac{p(w_i, w_j)}{p(w_i)p(w_j)}
    $$
of the ten top words $w_1$, ..., $w_{10}$ by choosing them by frequency to relevance.</p>

    </div>

    <div id="card-post">
        <img class="img-circle pull-left" style="height: 50px" src="/img/picture.jpg">
        <a href="/">Quentin Plepl√©</a> <br>
        <span class="muted">
            November 2013
        </span>
    </div>

</div>

<div id="disqus_thread" style="padding: 60px 40px 20px 40px"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'qpleple'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</body>
</html>
